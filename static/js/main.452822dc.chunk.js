(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,a,t){e.exports=t(162)},128:function(e,a,t){},129:function(e,a,t){},162:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(10),o=t.n(s),l=(t(128),t(29)),i=t(19),c=t(36),m=t(30),u=t(35),p=(t(129),t(41)),d=t(17),h=t(32),g=t(54),b=t.n(g),k=t(39),v=t.n(k),f=t(4),E=t(209),y=t(223),w=t(206),C=t(205),O=t(208),S=t(225),N=t(210),P=t(222),j=t(104),x=t.n(j),I=t(107),M=t(204),R=t(226),W=t(57),B=t(3),T=t(60),U=t.n(T),L=t(63),q=t.n(L),K=t(64),z=t.n(K),D=t(70),F=t.n(D),H=t(200),A=t(201),V=t(203),J=t(202),X=t(62),G=t.n(X),_=t(163);function $(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with Material-UI by XIO84")}var Q=Object(_.a)(function(e){return{success:{backgroundColor:H.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:A.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),Y={success:U.a,warning:G.a,error:q.a,info:z.a};function Z(e){var a=Q(),t=e.className,n=e.message,s=e.onClose,o=e.variant,l=Object(W.a)(e,["className","message","onClose","variant"]),i=Y[o];return r.a.createElement(J.a,Object.assign({className:Object(B.a)(a[o],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(B.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(V.a,{key:"close","aria-label":"Close",color:"inherit",onClick:s},r.a.createElement(F.a,{className:a.icon}))]},l))}var ee=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={username:"",password:"pass",opensnack:!1,snackmessage:"",snackvariant:"error",token:"",Saves:!1},t.handleClick=t.handleClick.bind(Object(d.a)(t)),t.handleClose=t.handleClose.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this,a=this.getToken();if(""!==a.user){this.setState({username:a.user,password:a.pass});var t={username:a.user,password:a.pass};v.a.post("https://api.stya.net/nim/login",b.a.stringify({username:t.username,password:t.password})).then(function(a){0===a.data.code&&e.setState({token:a.data.token,opensnack:!0,snackmessage:"Login success, redirecting...",snackvariant:"success"})})}}},{key:"setToken",value:function(e,a){localStorage.setItem("user",e),localStorage.setItem("pass",a)}},{key:"getToken",value:function(){return{user:localStorage.getItem("user"),pass:localStorage.getItem("pass")}}},{key:"handleClick",value:function(e){var a=this,t={username:this.state.username,password:this.state.password};v.a.post("https://api.stya.net/nim/login",b.a.stringify({username:t.username,password:t.password})).then(function(e){0===e.data.code?("remember"===a.state.Saves&&a.setToken(t.username,t.password),a.setState({token:e.data.token,opensnack:!0,snackmessage:"Login success, redirecting...",snackvariant:"success"})):-2===e.data.code?a.setState({opensnack:!0,snackmessage:"Username and password does not match!",snackvariant:"error"}):a.setState({opensnack:!0,snackmessage:"Username does not exist!",snackvariant:"error"})}).catch(function(e){a.setState({opensnack:!0,snackmessage:"Sign in failed!",snackvariant:"error"})})}},{key:"MadeWithLove",value:function(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with love by the ",r.a.createElement(h.b,{color:"inherit",href:"https://material-ui.com/"},"Material-UI")," team.")}},{key:"handleClose",value:function(e,a){"clickaway"!==a&&this.setState({opensnack:!1})}},{key:"render",value:function(){var e=this;return"success"===this.state.snackvariant?r.a.createElement(p.a,{to:{pathname:this.state.username+"/search",state:{token:this.state.token}}}):r.a.createElement("div",null,r.a.createElement(M.a,{component:"main",maxWidth:"xs"},r.a.createElement(C.a,null),r.a.createElement("div",{className:this.props.classes.paper},r.a.createElement(w.a,{className:this.props.classes.avatar},r.a.createElement(x.a,null)),r.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"user",label:"Username",name:"user",autoComplete:"user",onChange:function(a){var t=a.target.value;e.setState({username:t})},onKeyPress:function(a){"Enter"===a.key&&e.handleClick(a)},autoFocus:!0}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){var t=a.target.value;e.setState({password:t})},onKeyPress:function(a){"Enter"===a.key&&e.handleClick(a)}}),r.a.createElement(O.a,{control:r.a.createElement(S.a,{value:"remember",color:"primary",onChange:function(a){var t=a.target.value;e.setState({Saves:t})}}),label:"Remember me"}),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:this.props.classes.submit,onClick:function(a){return e.handleClick(a)}},"Sign In"),r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0},r.a.createElement(h.b,{to:"/Register",variant:"body2"},"Don't have an account? Sign Up")))),r.a.createElement(P.a,{mt:5},r.a.createElement($,null))),r.a.createElement(R.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.opensnack,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(Z,{onClose:this.handleClose,variant:this.state.snackvariant,message:this.state.snackmessage})))}}]),a}(n.Component),ae=Object(f.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(ee),te=t(105),ne=t.n(te);function re(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with Material-UI by XIO84")}var se=Object(_.a)(function(e){return{success:{backgroundColor:H.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:A.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),oe={success:U.a,warning:G.a,error:q.a,info:z.a};function le(e){var a=se(),t=e.className,n=e.message,s=e.onClose,o=e.variant,l=Object(W.a)(e,["className","message","onClose","variant"]),i=oe[o];return r.a.createElement(J.a,Object.assign({className:Object(B.a)(a[o],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(i,{className:Object(B.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(V.a,{key:"close","aria-label":"Close",color:"inherit",onClick:s},r.a.createElement(F.a,{className:a.icon}))]},l))}var ie=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handleClick=t.handleClick.bind(Object(d.a)(t)),t.handleClose=t.handleClose.bind(Object(d.a)(t)),t.state={username:"",password:"",opensnack:!1,snackmessage:"",snackvariant:"error"},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"handleClose",value:function(e,a){"clickaway"!==a&&this.setState({opensnack:!1})}},{key:"handleClick",value:function(e){var a=this;v.a.post("https://api.stya.net/nim/register",b.a.stringify({username:this.state.username,password:this.state.password})).then(function(e){0===e.data.code?a.setState({opensnack:!0,snackmessage:"Registration success, please login",snackvariant:"success"}):-4===e.data.code?a.setState({opensnack:!0,snackmessage:"Username taken, please use another",snackvariant:"warning"}):-2===e.data.code&&a.setState({opensnack:!0,snackmessage:"Please supply a username and a password!",snackvariant:"error"})}).catch(function(e){a.setState({opensnack:!0,snackmessage:"Registration failed",snackvariant:"error"}),console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(M.a,{component:"main",maxWidth:"xs"},r.a.createElement(C.a,null),r.a.createElement("div",{className:this.props.classes.paper},r.a.createElement(w.a,{className:this.props.classes.avatar},r.a.createElement(ne.a,null)),r.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("div",{className:this.props.classes.form},r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"user",label:"Username",name:"user",autoComplete:"user",autoFocus:!0,onChange:function(a){var t=a.target.value;e.setState({username:t})},onKeyPress:function(a){"Enter"===a.key&&e.handleClick(a)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){var t=a.target.value;e.setState({password:t})},onKeyPress:function(a){"Enter"===a.key&&e.handleClick(a)}}))),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:this.props.classes.submit,onClick:function(a){return e.handleClick(a)}},"Sign Up"),r.a.createElement(N.a,{container:!0,justify:"flex-end"},r.a.createElement(N.a,{item:!0},r.a.createElement(h.b,{to:"/Login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(P.a,{mt:5},r.a.createElement(re,null))),r.a.createElement(R.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.opensnack,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(le,{onClose:this.handleClose,variant:this.state.snackvariant,message:this.state.snackmessage})))}}]),a}(n.Component),ce=Object(f.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:H.a[600]},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})(ie),me=t(106),ue=t(220),pe=t(218),de=t(108),he=t(219),ge=t(211),be=t(212),ke=t(216),ve=t(215),fe=t(213),Ee=t(214);function ye(e){return r.a.createElement(I.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var we=t(217),Ce=t(224),Oe=t(80),Se=t.n(Oe),Ne=t(82),Pe=t.n(Ne),je=t(81),xe=t.n(je),Ie=t(79),Me=t.n(Ie),Re=Object(_.a)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary}}});function We(e){var a=Re(),t=Object(ge.a)(),n=e.count,s=e.page,o=e.rowsPerPage,l=e.onChangePage;return r.a.createElement("div",{className:a.root},r.a.createElement(V.a,{onClick:function(e){l(e,0)},disabled:0===s,"aria-label":"First Page"},"rtl"===t.direction?r.a.createElement(Me.a,null):r.a.createElement(Se.a,null)),r.a.createElement(V.a,{onClick:function(e){l(e,s-1)},disabled:0===s,"aria-label":"Previous Page"},"rtl"===t.direction?r.a.createElement(xe.a,null):r.a.createElement(Pe.a,null)),r.a.createElement(V.a,{onClick:function(e){l(e,s+1)},disabled:s>=Math.ceil(n/o)-1,"aria-label":"Next Page"},"rtl"===t.direction?r.a.createElement(Pe.a,null):r.a.createElement(xe.a,null)),r.a.createElement(V.a,{onClick:function(e){l(e,Math.max(0,Math.ceil(n/o)-1))},disabled:s>=Math.ceil(n/o)-1,"aria-label":"Last Page"},"rtl"===t.direction?r.a.createElement(Se.a,null):r.a.createElement(Me.a,null)))}var Be=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={page:0,rowsPerPage:5,rows:[]},t.handleChangePage=t.handleChangePage.bind(Object(d.a)(t)),t.handleChangeRowsPerPage=t.handleChangeRowsPerPage.bind(Object(d.a)(t)),t.updaterows=t.updaterows.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"updaterows",value:function(e,a){var t,n=this,r=[];"Name"===a?(t="https://api.stya.net/nim/byname",v.a.get(t,{headers:{"Auth-Token":this.props.token},params:{name:e,count:1e3}}).then(function(e){"OK"===e.data.status?(Array.prototype.push.apply(r,e.data.payload),n.setState({rows:r})):alert("Request failed, try logging in again")}).catch(function(e){console.log(e)})):"NIM"===a&&(t="https://api.stya.net/nim/byid",v.a.get(t,{headers:{"Auth-Token":this.props.token},params:{query:e,count:1e3}}).then(function(e){"OK"===e.data.status?(Array.prototype.push.apply(r,e.data.payload),n.setState({rows:r})):alert("Request failed, try logging in again")}).catch(function(e){console.log(e)}))}},{key:"handleChangePage",value:function(e,a){this.setState({page:a})}},{key:"handleChangeRowsPerPage",value:function(e){this.setState({rowsPerPage:parseInt(e.target.value,10)})}},{key:"render",value:function(){return void 0===this.state.rows?(console.log(this.state.rows),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null,this.props.search," Search Result"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null,this.props.search," Search Result"),r.a.createElement(be.a,{size:"small"},r.a.createElement(fe.a,null,r.a.createElement(Ee.a,null,r.a.createElement(ve.a,null,"Name"),r.a.createElement(ve.a,null,"NIM Jurusan"),r.a.createElement(ve.a,null,"NIM TPB"),r.a.createElement(ve.a,null,"Prodi"))),r.a.createElement(ke.a,null,this.state.rows.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map(function(e){return r.a.createElement(Ee.a,{key:e.name},r.a.createElement(ve.a,null,e.name),r.a.createElement(ve.a,null,e.nim_jur),r.a.createElement(ve.a,null,e.nim_tpb),r.a.createElement(ve.a,null,e.prodi))})),r.a.createElement(we.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ce.a,{rowsPerPageOptions:[5,10,25],colSpan:5,count:this.state.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,SelectProps:{inputProps:{"aria-label":"Rows per page"},native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:We})))))}}]),a}(n.Component);function Te(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with Material-UI by XIO84")}var Ue=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={name:"",NIM:"",search:"",query:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("pass")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(C.a,null),r.a.createElement(ue.a,{position:"absolute",className:this.props.classes.appBar},r.a.createElement(pe.a,{className:this.props.classes.toolbar},r.a.createElement(I.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"min(NIM)alist Finder"),r.a.createElement(I.a,{variant:"body1",color:"inherit",noWrap:!0},"Hello, ",this.props.match.params.usr,". Not you? (",r.a.createElement(h.b,{to:"/login",onClick:this.logout},"log out"),")"))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(M.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(de.a,{className:this.props.classes.paper},r.a.createElement(ye,null,"Search By..."),r.a.createElement(y.a,{id:"Name",label:"Name",placeholder:"Enter Name Here",fullWidth:!0,margin:"normal",variant:"filled",value:this.state.name,InputLabelProps:{shrink:!0},onChange:function(a){var t=a.target.value;e.setState({name:t})},onKeyPress:function(a){"Enter"===a.key&&e.child.updaterows(e.state.name,"Name")}}),r.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.child.updaterows(e.state.name,"Name")}},"Search By Name!"),r.a.createElement(y.a,{id:"NIM",label:"NIM",placeholder:"Enter NIM Here",fullWidth:!0,margin:"normal",variant:"filled",value:this.state.NIM,InputLabelProps:{shrink:!0},onChange:function(a){var t=a.target.value;e.setState({NIM:t})},onKeyPress:function(a){"Enter"===a.key&&e.child.updaterows(e.state.NIM,"NIM")}}),r.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.child.updaterows(e.state.NIM,"NIM")}},"Search By NIM!"),r.a.createElement("div",null))),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(de.a,{className:this.props.classes.paper},r.a.createElement(Be,{token:this.props.location.state.token,onRef:function(a){return e.child=a}}))))),r.a.createElement(Te,null)))}}]),a}(n.Component),Le=Object(f.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(me.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:he.a[500]},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},depositContext:{flex:1}}})(Ue);var qe=function(){return r.a.createElement("main",null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(p.a,{to:"/Login"})}}),r.a.createElement(p.b,{exact:!0,path:"/Login",component:ae}),r.a.createElement(p.b,{exact:!0,path:"/Register",component:ce}),r.a.createElement(p.b,{exact:!0,path:"/:usr/search",name:"search",component:Le})))},Ke=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={foof:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(qe,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h.a,{basename:"/NIMFinder"},r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,1,2]]]);
//# sourceMappingURL=main.452822dc.chunk.js.map