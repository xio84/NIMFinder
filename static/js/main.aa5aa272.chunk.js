(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,a,t){e.exports=t(162)},128:function(e,a,t){},129:function(e,a,t){},162:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(10),o=t.n(s),l=(t(128),t(19)),c=t(14),i=t(35),m=t(30),u=t(36),p=(t(129),t(41)),d=t(18),h=t(32),g=t(54),v=t.n(g),b=t(37),f=t.n(b),k=t(4),E=t(210),y=t(224),w=t(207),C=t(206),S=t(209),P=t(226),N=t(211),O=t(223),j=t(104),x=t.n(j),I=t(107),M=t(205),B=t(228),R=t(58),W=t(3),A=t(61),T=t.n(A),L=t(64),U=t.n(L),z=t(65),V=t.n(z),D=t(71),H=t.n(D),q=t(201),F=t(202),J=t(204),G=t(203),X=t(63),_=t.n(X),K=t(163);function $(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with love by the"," team.")}var Q=Object(K.a)(function(e){return{success:{backgroundColor:q.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:F.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),Y={success:T.a,warning:_.a,error:U.a,info:V.a};function Z(e){var a=Q(),t=e.className,n=e.message,s=e.onClose,o=e.variant,l=Object(R.a)(e,["className","message","onClose","variant"]),c=Y[o];return r.a.createElement(G.a,Object.assign({className:Object(W.a)(a[o],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(c,{className:Object(W.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(J.a,{key:"close","aria-label":"Close",color:"inherit",onClick:s},r.a.createElement(H.a,{className:a.icon}))]},l))}var ee=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={username:"",password:"pass",opensnack:!1,snackmessage:"",snackvariant:"error",token:"",Saves:!1},t.handleClick=t.handleClick.bind(Object(d.a)(t)),t.handleClose=t.handleClose.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this,a=this.getToken();if(""!==a.user){this.setState({username:a.user,password:a.pass});var t={username:a.user,password:a.pass};console.log(t),f.a.post("https://api.stya.net/nim/login",v.a.stringify({username:t.username,password:t.password})).then(function(a){0===a.data.code&&(console.log(a),e.setState({token:a.data.token,opensnack:!0,snackmessage:"Login success, redirecting...",snackvariant:"success"}))})}}},{key:"setToken",value:function(e,a){localStorage.setItem("user",e),localStorage.setItem("pass",a)}},{key:"getToken",value:function(){return{user:localStorage.getItem("user"),pass:localStorage.getItem("pass")}}},{key:"handleClick",value:function(e){var a=this,t={username:this.state.username,password:this.state.password};console.log(t),f.a.post("https://api.stya.net/nim/login",v.a.stringify({username:t.username,password:t.password})).then(function(e){0===e.data.code?(console.log(e),"remember"===a.state.Saves&&a.setToken(t.username,t.password),a.setState({token:e.data.token,opensnack:!0,snackmessage:"Login success, redirecting...",snackvariant:"success"})):-2===e.data.code?(console.log(e),a.setState({opensnack:!0,snackmessage:"Username and password does not match!",snackvariant:"error"})):(console.log(e),a.setState({opensnack:!0,snackmessage:"Username does not exist!",snackvariant:"error"}))}).catch(function(e){a.setState({opensnack:!0,snackmessage:"Sign in failed!",snackvariant:"error"})})}},{key:"MadeWithLove",value:function(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with love by the ",r.a.createElement(h.b,{color:"inherit",href:"https://material-ui.com/"},"Material-UI")," team.")}},{key:"handleClose",value:function(e,a){"clickaway"!==a&&this.setState({opensnack:!1})}},{key:"render",value:function(){var e=this;return"success"===this.state.snackvariant?r.a.createElement(p.a,{to:{pathname:this.state.username+"/search",state:{token:this.state.token}}}):r.a.createElement("div",null,r.a.createElement(M.a,{component:"main",maxWidth:"xs"},r.a.createElement(C.a,null),r.a.createElement("div",{className:this.props.classes.paper},r.a.createElement(w.a,{className:this.props.classes.avatar},r.a.createElement(x.a,null)),r.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"user",label:"Username",name:"user",autoComplete:"user",onChange:function(a){var t=a.target.value;e.setState({username:t}),console.log("value= "+e.state.password+" and "+e.state.username)},autoFocus:!0}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){var t=a.target.value;e.setState({password:t})}}),r.a.createElement(S.a,{control:r.a.createElement(P.a,{value:"remember",color:"primary",onChange:function(a){var t=a.target.value;e.setState({Saves:t})}}),label:"Remember me"}),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:this.props.classes.submit,onClick:function(a){return e.handleClick(a)}},"Sign In"),r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0},r.a.createElement(h.b,{to:"/Register",variant:"body2"},"Don't have an account? Sign Up")))),r.a.createElement(O.a,{mt:5},r.a.createElement($,null))),r.a.createElement(B.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.opensnack,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(Z,{onClose:this.handleClose,variant:this.state.snackvariant,message:this.state.snackmessage})))}}]),a}(n.Component),ae=Object(k.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(ee),te=t(105),ne=t.n(te);function re(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with love by the "," team.")}var se=Object(K.a)(function(e){return{success:{backgroundColor:q.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:F.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),oe={success:T.a,warning:_.a,error:U.a,info:V.a};function le(e){var a=se(),t=e.className,n=e.message,s=e.onClose,o=e.variant,l=Object(R.a)(e,["className","message","onClose","variant"]),c=oe[o];return r.a.createElement(G.a,Object.assign({className:Object(W.a)(a[o],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(c,{className:Object(W.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(J.a,{key:"close","aria-label":"Close",color:"inherit",onClick:s},r.a.createElement(H.a,{className:a.icon}))]},l))}var ce=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).handleClick=t.handleClick.bind(Object(d.a)(t)),t.handleClose=t.handleClose.bind(Object(d.a)(t)),t.state={username:"",password:"",opensnack:!1,snackmessage:"",snackvariant:"error"},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"handleClose",value:function(e,a){"clickaway"!==a&&this.setState({opensnack:!1})}},{key:"handleClick",value:function(e){var a=this;console.log("values",this.state.username,this.state.password),f.a.post("https://api.stya.net/nim/register",v.a.stringify({username:this.state.username,password:this.state.password})).then(function(e){console.log(e),0===e.data.code?a.setState({opensnack:!0,snackmessage:"Registration success, please login",snackvariant:"success"}):-4===e.data.code?a.setState({opensnack:!0,snackmessage:"Username taken, please use another",snackvariant:"warning"}):-2===e.data.code&&a.setState({opensnack:!0,snackmessage:"Please supply a username and a password!",snackvariant:"error"})}).catch(function(e){a.setState({opensnack:!0,snackmessage:"Registration failed",snackvariant:"error"}),console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(M.a,{component:"main",maxWidth:"xs"},r.a.createElement(C.a,null),r.a.createElement("div",{className:this.props.classes.paper},r.a.createElement(w.a,{className:this.props.classes.avatar},r.a.createElement(ne.a,null)),r.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("div",{className:this.props.classes.form},r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"user",label:"Username",name:"user",autoComplete:"user",autoFocus:!0,onChange:function(a){var t=a.target.value;e.setState({username:t}),console.log("value= "+e.state.password+" and "+e.state.username)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){var t=a.target.value;e.setState({password:t})}}))),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:this.props.classes.submit,onClick:function(a){return e.handleClick(a)}},"Sign Up"),r.a.createElement(N.a,{container:!0,justify:"flex-end"},r.a.createElement(N.a,{item:!0},r.a.createElement(h.b,{to:"/Login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(O.a,{mt:5},r.a.createElement(re,null))),r.a.createElement(B.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.opensnack,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(le,{onClose:this.handleClose,variant:this.state.snackvariant,message:this.state.snackmessage})))}}]),a}(n.Component),ie=Object(k.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:q.a[600]},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})(ce),me=t(106),ue=t(221),pe=t(219),de=t(108),he=t(220),ge=t(212),ve=t(213),be=t(217),fe=t(216),ke=t(214),Ee=t(215);function ye(e){return r.a.createElement(I.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var we=t(218),Ce=t(225),Se=t(80),Pe=t.n(Se),Ne=t(82),Oe=t.n(Ne),je=t(81),xe=t.n(je),Ie=t(79),Me=t.n(Ie),Be=Object(K.a)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary}}});function Re(e,a,t,n,r,s){return{id:e,date:a,name:t,shipTo:n,paymentMethod:r,amount:s}}function We(e){var a=Be(),t=Object(ge.a)(),n=e.count,s=e.page,o=e.rowsPerPage,l=e.onChangePage;return r.a.createElement("div",{className:a.root},r.a.createElement(J.a,{onClick:function(e){l(e,0)},disabled:0===s,"aria-label":"First Page"},"rtl"===t.direction?r.a.createElement(Me.a,null):r.a.createElement(Pe.a,null)),r.a.createElement(J.a,{onClick:function(e){l(e,s-1)},disabled:0===s,"aria-label":"Previous Page"},"rtl"===t.direction?r.a.createElement(xe.a,null):r.a.createElement(Oe.a,null)),r.a.createElement(J.a,{onClick:function(e){l(e,s+1)},disabled:s>=Math.ceil(n/o)-1,"aria-label":"Next Page"},"rtl"===t.direction?r.a.createElement(Oe.a,null):r.a.createElement(xe.a,null)),r.a.createElement(J.a,{onClick:function(e){l(e,Math.max(0,Math.ceil(n/o)-1))},disabled:s>=Math.ceil(n/o)-1,"aria-label":"Last Page"},"rtl"===t.direction?r.a.createElement(Pe.a,null):r.a.createElement(Me.a,null)))}var Ae=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={page:0,rowsPerPage:5,payload:10,APIPage:0,rows:[Re(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),Re(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),Re(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),Re(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),Re(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79),Re(5,"19 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79)]},t.handleChangePage=t.handleChangePage.bind(Object(d.a)(t)),t.handleChangeRowsPerPage=t.handleChangeRowsPerPage.bind(Object(d.a)(t)),t.updaterows=t.updaterows.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"updaterows",value:function(e,a){var t=this;this.setState({payload:10});var n=[];if("Name"===a){var r="https://api.stya.net/nim/byname";n=[];f.a.get(r,{headers:{"Auth-Token":this.props.token},params:{name:e,count:100}}).then(function(e){console.log(e),t.setState({payload:5}),Array.prototype.push.apply(n,e.data.payload),t.setState({APIPage:t.state.APIPage+1})}).catch(function(e){t.setState({payload:-3})}),this.setState({rows:n})}if("NIM"===a){r="https://api.stya.net/nim/byid";f.a.get(r,{headers:{"Auth-Token":this.props.token},params:{query:e,count:100}}).then(function(e){console.log(e),t.setState({payload:5}),Array.prototype.push.apply(n,e.data.payload),t.setState({APIPage:t.state.APIPage+1})}).catch(function(e){t.setState({payload:-3})}),this.setState({rows:n})}}},{key:"handleChangePage",value:function(e,a){this.setState({page:a})}},{key:"handleChangeRowsPerPage",value:function(e){this.setState({rowsPerPage:parseInt(e.target.value,10)})}},{key:"render",value:function(){return void 0===this.state.rows?(console.log(this.state.rows),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null,this.props.search," Search Result"))):(console.log(this.state.rows),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null,this.props.search," Search Result"),r.a.createElement(ve.a,{size:"small"},r.a.createElement(ke.a,null,r.a.createElement(Ee.a,null,r.a.createElement(fe.a,null,"Name"),r.a.createElement(fe.a,null,"NIM Jurusan"),r.a.createElement(fe.a,null,"NIM TPB"),r.a.createElement(fe.a,null,"Prodi"))),r.a.createElement(be.a,null,this.state.rows.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map(function(e){return r.a.createElement(Ee.a,{key:e.name},r.a.createElement(fe.a,null,e.name),r.a.createElement(fe.a,null,e.nim_jur),r.a.createElement(fe.a,null,e.nim_tpb),r.a.createElement(fe.a,null,e.prodi))})),r.a.createElement(we.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ce.a,{rowsPerPageOptions:[5,10,25],colSpan:5,count:this.state.rows.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,SelectProps:{inputProps:{"aria-label":"Rows per page"},native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:We}))))))}}]),a}(n.Component);function Te(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with Material-UI by XIO84")}var Le=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={name:"",NIM:"",search:"",query:""},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("pass")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(C.a,null),r.a.createElement(ue.a,{position:"absolute",className:this.props.classes.appBar},r.a.createElement(pe.a,{className:this.props.classes.toolbar},r.a.createElement(I.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Simple NIM Finder"),r.a.createElement(I.a,{variant:"body1",color:"inherit",noWrap:!0},"Hello, ",this.props.match.params.usr,". Not you? (",r.a.createElement(h.b,{to:"/login",onClick:this.logout},"log out"),")"))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(M.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(de.a,{className:this.props.classes.paper},r.a.createElement(ye,null,"Search By..."),r.a.createElement(y.a,{id:"Name",label:"Name",placeholder:"Enter Name Here",fullWidth:!0,margin:"normal",variant:"filled",value:this.state.name,InputLabelProps:{shrink:!0},onChange:function(a){var t=a.target.value;e.setState({name:t})}}),r.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.child.updaterows(e.state.name,"Name")}},"Search By Name!"),r.a.createElement(y.a,{id:"NIM",label:"NIM",placeholder:"Enter NIM Here",fullWidth:!0,margin:"normal",variant:"filled",value:this.state.NIM,InputLabelProps:{shrink:!0},onChange:function(a){var t=a.target.value;e.setState({NIM:t})}}),r.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){e.child.updaterows(e.state.NIM,"NIM")}},"Search By NIM!"),r.a.createElement("div",null))),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(de.a,{className:this.props.classes.paper},r.a.createElement(Ae,{token:this.props.location.state.token,onRef:function(a){return e.child=a}}))))),r.a.createElement(Te,null)))}}]),a}(n.Component),Ue=Object(k.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(me.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:he.a[500]},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},depositContext:{flex:1}}})(Le);var ze=function(){return r.a.createElement("main",null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(p.a,{to:"/Login"})}}),r.a.createElement(p.b,{exact:!0,path:"/Login",component:ae}),r.a.createElement(p.b,{exact:!0,path:"/Register",component:ie}),r.a.createElement(p.b,{exact:!0,path:"/:usr/search",name:"search",component:Ue})))},Ve=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={foof:""},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ze,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h.a,null,r.a.createElement(Ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,1,2]]]);
//# sourceMappingURL=main.aa5aa272.chunk.js.map